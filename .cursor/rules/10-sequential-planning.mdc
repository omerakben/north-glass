---
description: Plan-before-code using Sequential Thinking MCP
alwaysApply: true
globs:
---

Before writing code for any feature/bugfix/refactor:

PLAN WITH MCP

1) Invoke the "sequential thinking" MCP tool to produce:
   - Problem statement (cite PRD section)
   - Constraints (performance, SEO, accessibility, security)
   - Step-by-step plan (with alternatives)
   - Test strategy (unit/integration/e2e)
   - Definition of Done (DoD) mapped to PRD acceptance criteria

2) Validate plan against @PRD.md. If a gap exists, halt and create a PCR.

3) Generate a minimal task list:
   - repo/tasks/<feature-kebab>/{plan.md, checklist.md}
   - Include commands you will run for validation (see Quality Gates rule).

4) Only then start coding. Re-run the sequential thinking tool if scope shifts.
